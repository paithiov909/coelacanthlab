---
title: 小ネタ
author: paithiov909
date: '2020-07-11'
lastmod: "2020-08-29"
slug: genshijin
categories: []
tags:
  - NLP
description: '小ネタです'
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="ゲンシジン-ナル" class="section level2">
<h2>ゲンシジン ナル</h2>
<p>助詞を除いてカタコトの日本語にするやつ</p>
<pre class="r"><code>genshijin &lt;- function(text) {
  `%without%` &lt;- purrr::negate(`%in%`)
  df &lt;- tangela::kuromoji(text) %&gt;%
    purrr::map_dfr(~ data.frame(
      feature = purrr::pluck(., &quot;feature&quot;),
      stringsAsFactors = FALSE
    )) %&gt;%
    tidyr::separate(
      col = &quot;feature&quot;,
      into = c(
        &quot;品詞&quot;,
        &quot;品詞細分類1&quot;,
        &quot;品詞細分類2&quot;,
        &quot;品詞細分類3&quot;,
        &quot;活用形&quot;,
        &quot;活用型&quot;,
        &quot;原形&quot;,
        &quot;読み&quot;,
        &quot;発音&quot;
      ),
      sep = &quot;,&quot;,
      fill = &quot;right&quot;
    )
  res &lt;- df %&gt;%
    tidyr::drop_na() %&gt;%
    dplyr::filter(!!sym(&quot;品詞細分類1&quot;) %without% c(
      &quot;格助詞&quot;,
      &quot;係助詞&quot;,
      &quot;終助詞&quot;,
      &quot;副詞化&quot;,
      &quot;特殊&quot;
    )) %&gt;%
    dplyr::pull(&quot;読み&quot;) %&gt;%
    paste(collapse = &quot; &quot;)
  return(res)
}</code></pre>
<pre class="r"><code>genshijin(&quot;メガネは顔の一部じゃない あなたはわたしの全てじゃない&quot;)
#&gt; [1] &quot;メガネ カオ ノ イチブ ジャ ナイ アナタ ワタシ ノ スベテ ジャ ナイ&quot;</code></pre>
</div>
<div id="名詞をランダムにヒャッハァーに置換" class="section level2">
<h2>名詞をランダムに「ヒャッハァー！」に置換</h2>
<pre class="r"><code>hyahhaaa &lt;- function(text, replacement = &quot;ヒャッハァーー！&quot;, pos = &quot;名詞&quot;, p = 0.8) {
  df &lt;- tangela::kuromoji(text) %&gt;%
    purrr::map_dfr(~ data.frame(
      surface = purrr::pluck(., &quot;surface&quot;),
      feature = purrr::pluck(., &quot;feature&quot;),
      stringsAsFactors = FALSE
    )) %&gt;%
    tidyr::separate(
      col = &quot;feature&quot;,
      into = c(
        &quot;品詞&quot;,
        &quot;品詞細分類1&quot;,
        &quot;品詞細分類2&quot;,
        &quot;品詞細分類3&quot;,
        &quot;活用形&quot;,
        &quot;活用型&quot;,
        &quot;原形&quot;,
        &quot;読み&quot;,
        &quot;発音&quot;
      ),
      sep = &quot;,&quot;,
      fill = &quot;right&quot;
    )
  res &lt;- df %&gt;%
    dplyr::rowwise() %&gt;%
    dplyr::mutate(str = dplyr::if_else(
      !!sym(&quot;品詞&quot;) %in% c(pos) &amp; runif(1) &lt;= p,
      replacement,
      !!sym(&quot;surface&quot;)
    )) %&gt;%
    dplyr::pull(&quot;str&quot;) %&gt;%
    paste(collapse = &quot;&quot;)
  return(res)
}</code></pre>
<pre class="r"><code>hyahhaaa(&quot;恋するだけが乙女じゃない 素直なだけがいい子じゃない&quot;)
#&gt; [1] &quot;恋するだけが乙女じゃない ヒャッハァーー！なだけがいい子じゃない&quot;</code></pre>
</div>
<div id="参考" class="section level2">
<h2>参考</h2>
<div id="ゲンシジン-ナル-1" class="section level3">
<h3>ゲンシジン ナル</h3>
<ul>
<li><a href="https://qiita.com/taro_9674/items/e02119ab26376979a489">【R言語】Rでゲンシジンになってみた - Qiita</a></li>
<li><a href="https://qiita.com/Harusugi/items/f499e8707b36d0f570c4">オレ プログラム ウゴカス オマエ ゲンシジン ナル - Qiita</a></li>
<li><a href="http://miner.hatenablog.com/entry/323">Mecabなど形態素解析で使うIPA品詞体系（品詞ID｜pos-id） - MS Tech</a></li>
</ul>
</div>
<div id="名詞をランダムにヒャッハァーに置換-1" class="section level3">
<h3>名詞をランダムに「ヒャッハァー！」に置換</h3>
<ul>
<li><a href="https://terasawat.hatenablog.jp/entry/20100711/1278861735">日本語文の名詞をランダムに「ヒャッハァー！」に置換するＲスクリプト - こにしき（言葉・日本社会・教育）</a></li>
</ul>
</div>
</div>
